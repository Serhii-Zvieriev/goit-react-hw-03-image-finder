{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","services/pixabayAPI.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","target","name","value","setState","toLowerCase","className","style","onSubmit","this","props","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","imgArr","onOpen","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGalleryItemImage","ImageGallery","map","id","Button","Loader","color","height","width","timeout","position","top","left","Modal","closeModalByESC","e","key","modalClose","window","addEventListener","removeEventListener","modalImg","Overlay","fetchImages","img","page","fetch","then","response","ok","json","Promise","reject","Error","App","searchImg","loading","currentPage","isModalOpen","handleSubmit","event","preventDefault","trim","alert","handleLoadeMore","hendelOpenModal","dataset","source","hendelCloseModal","prevProps","prevState","length","api","hits","scrollTo","document","documentElement","scrollHeight","behavior","catch","error","finally","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dbff3ad1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__IaX68\",\"Modal\":\"Modal_Modal__3nISQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2HAi2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2c4Dg\"};","import { Component } from \"react\";\r\n\r\nimport style from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = { inputValue: \"\" };\r\n\r\n  handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n\r\n    this.setState({ [name]: value.toLowerCase() });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={style.Searchbar}>\r\n        <form onSubmit={this.props.onSubmit} className={style.SearchForm}>\r\n          <button type=\"submit\" className={style.SearchFormButton}>\r\n            <span className={style.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            name=\"inputValue\"\r\n            onChange={this.handleChange}\r\n            className={style.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import style from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ imgArr, onOpen }) {\r\n  const { webformatURL, tags, largeImageURL } = imgArr;\r\n  return (\r\n    <li className={style.ImageGalleryItem}>\r\n      <img\r\n        onClick={onOpen}\r\n        data-source={largeImageURL}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={style.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import style from \"./ImageGallery.module.css\";\r\n\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\n\r\nfunction ImageGallery({ imgArr, onOpen }) {\r\n  return (\r\n    <ul className={style.ImageGallery}>\r\n      {imgArr.map((imgArr) => (\r\n        <ImageGalleryItem key={imgArr.id} imgArr={imgArr} onOpen={onOpen} />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","import style from \"./Button.module.css\";\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <button onClick={onClick} className={style.Button}>\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import ReactLoaderSpinner from \"react-loader-spinner\";\r\n\r\nfunction Loader() {\r\n  return (\r\n    <ReactLoaderSpinner\r\n      type=\"Grid\"\r\n      color=\"#3f51b5\"\r\n      height={60}\r\n      width={60}\r\n      timeout={3000} //3 secs\r\n      style={{\r\n        position: \"fixed\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import { Component } from \"react\";\r\n\r\nimport style from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.closeModalByESC);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.closeModalByESC);\r\n  }\r\n\r\n  closeModalByESC = (e) => {\r\n    if (e.key !== \"Escape\") {\r\n      return;\r\n    }\r\n    this.props.modalClose();\r\n  };\r\n\r\n  render() {\r\n    const { modalImg, modalClose } = this.props;\r\n\r\n    return (\r\n      <div onClick={modalClose} className={style.Overlay}>\r\n        <div className={style.Modal}>\r\n          <img src={modalImg} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","function fetchImages(img, page) {\r\n  const API_KEY = \"22998355-c21cb54d4c6e6a9c64822a6a0\";\r\n\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${img}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(new Error(`Нет изображения ${img}`));\r\n  });\r\n}\r\n\r\nexport default fetchImages;\r\n","import { Component } from \"react\";\n\nimport \"./App.css\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Loader from \"./components/Loader\";\nimport Modal from \"./components/Modal\";\nimport api from \"./services/pixabayAPI\";\n\nclass App extends Component {\n  state = {\n    searchImg: \"\",\n    img: [],\n    loading: false,\n    currentPage: null,\n    modalImg: \"\",\n    isModalOpen: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.currentPage !== this.state.currentPage ||\n      !this.state.img.length\n    ) {\n      api(this.state.searchImg, this.state.currentPage)\n        .then((img) => {\n          this.setState((prevState) => {\n            return { img: [...prevState.img, ...img.hits] };\n          });\n          if (this.state.currentPage !== 1) {\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            });\n          }\n        })\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ loading: false }));\n    }\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { value } = event.target[1];\n\n    if (value.trim() === \"\") {\n      alert(\"Введите искомую картинку.\");\n      return;\n    }\n\n    this.setState({\n      searchImg: value.toLowerCase(),\n      loading: true,\n      currentPage: 1,\n      img: [],\n    });\n  };\n\n  handleLoadeMore = () => {\n    this.setState(({ currentPage }) => ({\n      currentPage: currentPage + 1,\n      loading: true,\n    }));\n  };\n\n  hendelOpenModal = (e) => {\n    this.setState({\n      isModalOpen: true,\n      modalImg: e.target.dataset.source,\n    });\n  };\n\n  hendelCloseModal = () => {\n    this.setState({ isModalOpen: false, modalImg: \"\" });\n  };\n\n  render() {\n    const { img, loading, currentPage, isModalOpen, modalImg } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSubmit} />\n\n        {img && <ImageGallery imgArr={img} onOpen={this.hendelOpenModal} />}\n        {isModalOpen && (\n          <Modal modalImg={modalImg} modalClose={this.hendelCloseModal} />\n        )}\n        {loading && <Loader />}\n        {currentPage && <Button onClick={this.handleLoadeMore} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2HWM3\",\"SearchForm\":\"Searchbar_SearchForm__2infV\",\"SearchFormButton\":\"Searchbar_SearchFormButton__JXi0z\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__qX4m6\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3u2Al\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2iDDf\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1NnWn\"};"],"sourceRoot":""}